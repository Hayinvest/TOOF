<!DOCTYPE html>
<html lang="hy">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mining App</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Ubuntu, Arial, sans-serif;
      background: linear-gradient(135deg, #8A2BE2, #191970);
      color: #e8f0ff;
      min-height: 100vh;
      overflow-x: hidden;
    }

    .stars-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: linear-gradient(135deg, #8A2BE2, #191970);
      animation: gradientShift 6s ease-in-out infinite alternate;
    }

    @keyframes gradientShift {
      0% { background: linear-gradient(135deg, #8A2BE2, #191970); }
      100% { background: linear-gradient(135deg, #191970, #8A2BE2); }
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 2s infinite alternate;
    }

    @keyframes twinkle {
      0% { opacity: 0.3; transform: scale(1); }
      100% { opacity: 1; transform: scale(1.2); }
    }

.app {
  max-width: 100%;
  margin: 0;
  padding: 0;
  position: relative;
  z-index: 1;
}

.card {
  background: rgba(16, 24, 35, 0.9);
  border: 1px solid rgba(159, 90, 223, 0.3);
  border-radius: 0; /* որ ամբողջ էկրանը լինի */
  padding: 30px;
  margin: 0;
  min-height: 100vh; /* լիքը էկրանի բարձրություն */
  box-shadow: none;
  backdrop-filter: blur(10px);
  display: flex;
  flex-direction: column;
  justify-content: center; /* բովանդակությունը կեդրոնում */
}


    h1 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 10px;
      background: linear-gradient(45deg, #8A2BE2, #e8f0ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    h2 {
      font-size: 1.5rem;
      margin-bottom: 15px;
      color: #e8f0ff;
    }

    .mining-section {
      text-align: center;
    }

    .status-display {
      background: rgba(138, 43, 226, 0.1);
      border: 1px solid rgba(138, 43, 226, 0.3);
      border-radius: 15px;
      padding: 20px;
      margin: 20px 0;
    }

    .countdown {
      font-size: 2rem;
      font-weight: bold;
      color: #8A2BE2;
      margin: 10px 0;
      font-family: 'Courier New', monospace;
    }

    .score-display {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(25, 25, 112, 0.2);
      border-radius: 10px;
      padding: 15px;
      margin: 15px 0;
    }

    .score-item {
      text-align: center;
    }

    .score-number {
      font-size: 1.5rem;
      font-weight: bold;
      color: #8A2BE2;
    }

    button {
      background: linear-gradient(45deg, #8A2BE2, #9f5adf);
      color: white;
      border: none;
      border-radius: 14px;
      padding: 15px 25px;
      font-size: 1.1rem;
      font-weight: 600;
      margin: 10px 5px;
      transition: all 0.3s ease;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(138, 43, 226, 0.6);
    }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      box-shadow: 0 2px 10px rgba(138, 43, 226, 0.2);
    }

    .fa-star {
      color: #FFD700;
      margin-left: 5px;
    }

    .status-text {
      font-size: 1.2rem;
      margin-bottom: 10px;
    }

    .ready {
      color: #00ff00;
      animation: pulse 1s infinite;
    }

    .active {
      color: #8A2BE2;
    }

    .inactive {
      color: #888;
    }

    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }

    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(45deg, #8A2BE2, #191970);
      color: white;
      padding: 15px 20px;
      border-radius: 10px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      transform: translateX(400px);
      transition: transform 0.3s ease;
    }

    .notification.show {
      transform: translateX(0);
    }
      .back-btn {
      position: fixed;
      top: 1px;
      left: 3px;
      background: #7d20ce00;
      color: #ffffff;
      border: none;
      padding: 10px 14px;
      border-radius: 10px;
      font-weight: bold;
      text-decoration: none;
      z-index: 10;
    }

    .back-btn:hover {
      background: #eee;
    }
  .fa-star{
color: #ffffff;
  }

  </style>
</head>
<body>
  <div class="stars-container" id="starsContainer"></div>
  
  <div class="app">
   <header>
      <a href="index.html">
        <button class="back-btn"><i class="fas fa-arrow-left"></i></button>
      </a>
    </header>

    <main>
      <section class="card mining-section">
        <h2><i class="fas fa-pickaxe"></i> Star Farming</h2>
        <p>You can claim your stars every 3 hours.</p>
        
        <div class="status-display">
          <div class="status-text">Status: <span id="statusText" class="inactive">Inactive</span></div>
          <div class="countdown" id="countdown">00:00:00</div>
        </div>

        <div class="score-display">
          <div class="score-item">
            <div>Your Stars</div>
            <div class="score-number"><span id="userScore">0</span><i class="fas fa-star"></i></div>
          </div>
          <div class="score-item">
            <div>Earn per Session</div>
            <div class="score-number"><span id="perSession">1000</span><i class="fas fa-star"></i></div>
          </div>
        </div>

        <div>
          <button id="startMiningBtn"><i class="fas fa-play"></i> Start Farming</button>
          <button id="claimBtn" disabled><i class="fas fa-gift"></i> Claim<i class="fas fa-star"></i></button>
          <button id="boostBtn" ><i class="fa-solid fa-angles-up"></i> Boost</button>

        </div>
      </section>
    </main>
  </div>

  <div id="notification" class="notification"></div>
<!-- Boost Popup -->
<div id="boostPopup" class="boost-popup">
  <div class="boost-content">
    <h2><i class="fa-solid fa-angles-up"></i> Choose Your Boost</h2>
    <p>Upgrade your mining reward every 3 hours.</p>
    
    <div class="boost-option" onclick="buyBoost(30000,2000)">
      <span>30000 ⭐ → +2000 per session</span>
      <button>Buy</button>
    </div>

    <div class="boost-option" onclick="buyBoost(60000,3500)">
      <span>60000 ⭐ → +3500 per session</span>
      <button>Buy</button>
    </div>

    <div class="boost-option" onclick="buyBoost(100000,5000)">
      <span>100000 ⭐ → +5000 per session</span>
      <button>Buy</button>
    </div>

    <button class="close-btn" onclick="closeBoostPopup()">Close</button>
  </div>
</div>

<style>
  .boost-popup {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.6);
    z-index: 2000;
    justify-content: center;
    align-items: center;
  }

  .boost-content {
    background: rgba(16,24,35,0.95);
    padding: 25px;
    border-radius: 15px;
    max-width: 400px;
    width: 90%;
    text-align: center;
    border: 1px solid #8A2BE2;
    box-shadow: 0 0 25px rgba(138,43,226,0.6);
  }

  .boost-content h2 {
    margin-bottom: 15px;
    background: linear-gradient(45deg,#8A2BE2,#fff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .boost-option {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(138,43,226,0.1);
    border: 1px solid rgba(138,43,226,0.3);
    border-radius: 10px;
    padding: 10px 15px;
    margin: 10px 0;
  }

  .boost-option span {
    font-size: 1rem;
    font-weight: 500;
  }

  .boost-option button {
    padding: 8px 12px;
    font-size: 0.9rem;
    border-radius: 8px;
    background: linear-gradient(45deg,#8A2BE2,#9f5adf);
    border: none;
    color: white;
    font-weight: bold;
  }

  .close-btn {
    margin-top: 15px;
    background: #444;
  }
</style>

<script>
  const boostBtn = document.getElementById('boostBtn');
  const boostPopup = document.getElementById('boostPopup');

  boostBtn.addEventListener('click', () => {
    boostPopup.style.display = 'flex';
    updateBoostUI();
  });

  function closeBoostPopup() {
    boostPopup.style.display = 'none';
  }

  function buyBoost(cost, reward) {
    let currentScore = getUserScore();

    if (currentScore < cost) {
      showNotification("❌ Not enough stars!");
      return;
    }

    // Հանել գումարը
    setUserScore(currentScore - cost);

    // Ավելացնել boost արժեքը
    let savedReward = getLS("perSessionReward", 1000);
    let newReward = savedReward + reward;

    setLS("perSessionReward", newReward);

    // Պահել արդեն գնված boost-երի ցուցակը
    let boughtBoosts = getLS("boughtBoosts", []);
    if (!boughtBoosts.includes(reward)) {
      boughtBoosts.push(reward);
      setLS("boughtBoosts", boughtBoosts);
    }

    perSessionEl.textContent = newReward;
    showNotification(`✅ Boost applied! Now you earn ${newReward} ⭐ every 3h`);

    updateBoostUI();
    closeBoostPopup();
  }

  function updateBoostUI() {
    let boughtBoosts = getLS("boughtBoosts", []);

    const boostOptions = document.querySelectorAll(".boost-option");
    boostOptions.forEach(option => {
      const [costText, rewardText] = option.getAttribute("onclick")
        .match(/\d+/g); // cost, reward
      const reward = parseInt(rewardText);

      const button = option.querySelector("button");

      if (boughtBoosts.includes(reward)) {
        button.disabled = true;
        option.style.opacity = "0.5";
      } else {
        button.disabled = false;
        option.style.opacity = "1";
      }
    });
  }

  // Load saved boost on start
  function loadBoost() {
    const savedReward = getLS("perSessionReward", 1000);
    perSessionEl.textContent = savedReward;
    updateBoostUI();
  }

  // Claim function
  claimBtn.addEventListener('click', () => {
    const miningData = getMiningData();
    if (!miningData.active) return;

    const currentTime = Date.now();
    const endTime = miningData.startTime + THREE_HOURS_MS;
    if (currentTime < endTime) return;

    const earnedStars = getLS("perSessionReward", 1000);
    addUserScore(earnedStars);

    setMiningData({ active: false, startTime: 0 });

    showNotification(`✅ Claimed ${earnedStars} stars! Total: ${getUserScore()}`);
    updateUI();
  });

  // Init
  function init() {
    createStars();
    userScoreEl.textContent = getUserScore();
    loadBoost(); // Load boost reward
    updateUI();
    setInterval(updateUI, 1000);
  }
</script>


  <script>
    // Constants
    const THREE_HOURS_MS = 3 * 60 * 60 * 1000; // 3 hours in milliseconds
    // const THREE_HOURS_MS = 10 * 1000; // 10 seconds for testing

    // DOM Elements
    const userScoreEl = document.getElementById('userScore');
    const perSessionEl = document.getElementById('perSession');
    const statusTextEl = document.getElementById('statusText');
    const countdownEl = document.getElementById('countdown');
    const startMiningBtn = document.getElementById('startMiningBtn');
    const claimBtn = document.getElementById('claimBtn');
    const notificationEl = document.getElementById('notification');

    // Stars background
    function createStars() {
      const container = document.getElementById('starsContainer');
      const numStars = 50;
      
      for (let i = 0; i < numStars; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.left = Math.random() * 100 + '%';
        star.style.top = Math.random() * 100 + '%';
        star.style.width = Math.random() * 3 + 1 + 'px';
        star.style.height = star.style.width;
        star.style.animationDelay = Math.random() * 2 + 's';
        container.appendChild(star);
      }
    }

    // Utility functions
    function getLS(key, defaultValue) {
      try {
        const item = localStorage.getItem(key);
        return item ? JSON.parse(item) : defaultValue;
      } catch {
        return defaultValue;
      }
    }

    function setLS(key, value) {
      localStorage.setItem(key, JSON.stringify(value));
    }

    function formatTime(ms) {
      if (ms < 0) ms = 0;
      const totalSeconds = Math.floor(ms / 1000);
      const hours = Math.floor(totalSeconds / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;
      
      return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    }

    function showNotification(message) {
      notificationEl.textContent = message;
      notificationEl.classList.add('show');
      setTimeout(() => {
        notificationEl.classList.remove('show');
      }, 3000);
    }

    // Mining logic
    function getUserScore() {
      return getLS('userScore', 0);
    }

    function setUserScore(score) {
      setLS('userScore', score);
      userScoreEl.textContent = score;
    }

    function addUserScore(amount) {
      const currentScore = getUserScore();
      setUserScore(currentScore + amount);
    }

    function getMiningData() {
      return getLS('miningData', { active: false, startTime: 0 });
    }

    function setMiningData(data) {
      setLS('miningData', data);
    }

    function updateUI() {
      const miningData = getMiningData();
      const currentTime = Date.now();
      
      if (!miningData.active) {
        statusTextEl.textContent = 'Inactive';
        statusTextEl.className = 'inactive';
        countdownEl.textContent = '00:00:00';
        startMiningBtn.disabled = false;
        claimBtn.disabled = true;
        return;
      }

      const endTime = miningData.startTime + THREE_HOURS_MS;
      const timeLeft = endTime - currentTime;

      if (timeLeft <= 0) {
        statusTextEl.textContent = 'Ready to Claim!';
        statusTextEl.className = 'ready';
        countdownEl.textContent = '00:00:00';
        startMiningBtn.disabled = true;
        claimBtn.disabled = false;
      } else {
        statusTextEl.textContent = 'Mining Active';
        statusTextEl.className = 'active';
        countdownEl.textContent = formatTime(timeLeft);
        startMiningBtn.disabled = true;
        claimBtn.disabled = true;
      }
    }

    // Event listeners
    startMiningBtn.addEventListener('click', () => {
      const miningData = getMiningData();
      if (miningData.active) return;

      setMiningData({
        active: true,
        startTime: Date.now()
      });

      showNotification('⛏️ Mining started! Come back in 3 hours to claim your stars.');
      updateUI();
    });

    claimBtn.addEventListener('click', () => {
      const miningData = getMiningData();
      if (!miningData.active) return;

      const currentTime = Date.now();
      const endTime = miningData.startTime + THREE_HOURS_MS;

      if (currentTime < endTime) return;

      const earnedStars = 1000;
      addUserScore(earnedStars);

      setMiningData({
        active: false,
        startTime: 0
      });

      showNotification(`✅ Claimed ${earnedStars} stars! Total: ${getUserScore()}`);
      updateUI();
    });

    // Initialize
    function init() {
      createStars();
      userScoreEl.textContent = getUserScore();
      perSessionEl.textContent = '1000';
      updateUI();
      
      // Update UI every second
      setInterval(updateUI, 1000);
    }

    // Start the app
    init();
  </script>
</body>
</html>